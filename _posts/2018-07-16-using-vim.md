---
layout:         post
title:          Using Vim
subtitle:
card-image:     /assets/images/cards/cat3.gif
date:           2018-07-16 09:00:00
tags:           [linux]
categories:     [linux]
post-card-type: image
mathjax:        true
---

* <a href="#Basic cursor moving">Basic cursor moving</a>
* <a href="#Advanced cursor moving">Advanced cursor moving</a>
* <a href="#Page moving">Page moving</a>
* <a href="#Basic Inserting">Basic Inserting</a>
* <a href="#Cut and paste">Cut and paste</a>
* <a href="#Search and replace">Search and replace</a>
* <a href="#Editing">Editing</a>
* <a href="#Visual mode">Visual mode</a>
* <a href="#Zone selection">Zone selection</a>
* <a href="#Multiline commenting and indenting">Multiline commenting and indenting</a>
* <a href="#Recording">Recording</a>
* <a href="#Splits">Splits</a>
* <a href="#Exiting">Exiting</a>
* <a href="#Last-line mode">Last-line mode</a>


There are three modes in Vim: **insert mode**, **command mode**, and **last-line mode**. The default mode is command mode. Press `i` to enter the insert mode. Press `:` to enter the last-line mode.

## <a name="Basic cursor moving">Basic cursor moving</a>

* `h` move the cursor one character to the left.
* `j` move the cursor down one line.
* `k` move the cursor up one line.
* `l` move the cursor one character to the right.
* `0` move the cursor to the beginning of the line (column 0).
* `$` move the cursor to the end of the line (last column).
* `^` move the cursor to the first non-blank character of the line.
* `I` move the cursor to the non-blank beginning of the line and switch to insert mode.
* `A` move the cursor to the end of the line and switch to insert mode.
* `gg` move the cursor to the beginning of the file.
* `G` move the cursor to the end of the file.
* `w` move forward and go to the start of the following word.
* `e` move forward and go to the end of the following word.
* `b` move backward and go the start of the previous word.

Here's a handy tip: prefacing a movement command with a **number** will execute that movement multiple times.

* `nG` moves the cursor to n'th line of file.

By default, words are composed of letters and the underscore character. Let’s call a **WORD** a group of letters separated by blank characters. If you want to consider WORDS, then just use uppercase characters:

* `W`  go to the start of the following WORD.
* `E` go to the end of this WORD.
* `B` go to the start of the previous WORD.

## <a name="Advanced cursor moving">Advanced cursor moving</a>

* `%` jump to matching bracket { } [ ] ( ).
* `}` jump to next paragraph (or function/block, when editing code).
* `{` jump to previous paragraph (or function/block, when editing code).
* `fX` jump to next occurrence of character 'X'.
* `FX` jump to previous occurrence of character 'X'.
* `tX` jump to before next occurrence of character 'X'.
* `TX` jump to after previous occurrence of character 'X'.
* `;` repeat previous f, t, F or T movement.
* `,` repeat previous f, t, F or T movement, backwards.

## <a name="Page moving">Page moving</a>

* `H` jump to the top of the screen.
* `M` jump to the middle of the screen.
* `L` jump to the bottom of the screen.
* `Ctrl-f` move forward one full screen.
* `Ctrl-b` move back one full screen.
* `Ctrl-d` move forward half a screen.
* `Ctrl-u` move back half a screen.

## <a name="Basic Inserting">Basic Inserting</a>

* `i` insert before the cursor.
* `I` insert at the beginning of the line.
* `a` insert (append) after the cursor.
* `A` insert (append) at the end of the line.
* `ea` insert (append) at the end of the word.
* `o` append (open) a new line below the current line.
* `O` append (open) a new line above the current line.
* `Esc` exit insert mode.

## <a name="Cut and paste">Cut and paste</a>

* `dd` delete (cut) a line.
* `2dd` delete (cut) 2 lines.
* `dw` delete (cut) the characters of the word from the cursor position to the start of the next word.
* `d0` delete to the beginning of the line.
* `d$` delete (cut) to the end of the line.
* `dtX` delete everything until the character 'X'.
* `D` delete (cut) to the end of the line.
* `x` delete (cut) one character under the cursor.
* `yy` yank (copy) a line.
* `2yy` yank (copy) 2 lines.
* `yw` yank (copy) the characters of the word from the cursor position to the start of the next word.
* `y$` yank (copy) to end of line.
* `p` put (paste) the clipboard after cursor.
* `P` put (paste) before cursor.

Most commands can be used using the following general format: `<start position><command><end position>`. For example : `0y$` means go to the beginning of this line; yank from here; up to the end of this line.

You may have noticed that several commands combine a text operation and movement key. `G` takes you to the end of a file, and d is used to delete. Combining them gives you something more powerful. Vim's like that. If you're working in Vim and think "hey, I wonder if I can combine two things I know to make something easier," the answer is often (but not always) yes.

## <a name="Search and replace">Search and replace</a>

* `/pattern` search for pattern.
* `n` repeat search in same direction.
* `N` repeat search in opposite direction.
* `noh` remove highlighting of search matches.
* `?pattern` search backward for pattern.
* `/\vpattern` use 'very magic' pattern: non-alphanumeric characters are interpreted as special regex symbols (no escaping needed).
* `%s/old/new/g` replace all old with new throughout file.
* `%s/old/new/gc` replace all old with new throughout file with confirmations.

## <a name="Editing">Editing</a>

* `u` undo
* `Ctrl-r` redo
* `.` repeat last command
* `cw` change (replace) to the end of the word
* `cc` change (replace) entire line
* `c$` change (replace) to the end of the line
* `s` delete character and substitute text
* `S` delete line and substitute text (same as cc)

## <a name="Visual mode">Visual mode</a>

* `v` start visual mode, mark lines, then do a command
* `V` start linewise visual mode
* `Ctrl-v` start visual block mode (highlight by columns)

Once the selection has been made, you can:

* `o` move to other end of marked area
* `>` shift text right
* `<` shift text left
* `=` auto indent
* `y` yank (copy) marked text
* `d` delete marked text
* `~` switch case
* `J` join all lines together

## <a name="Zone selection">Zone selection</a>

These commands are very powerful, their main pattern is: `<action>a<object> or <action>i<object>`. Where action can be any action, for example, `d` (delete), `y` (yank), `v` (select in visual mode). The object can be: w a word, W a WORD (extended word), s a sentence, p a paragraph. But also, natural character such as ", ', ), }, ].

## <a name="Multiline commenting and indenting">Multiline commenting and indenting</a>

1. `^` will go to the first non-blank character of the line
2. `Ctrl-v` will start block selection
3. move cursor to select lines
4. `I` will enter insert mode
5. type # or space
6. `Esc` to exit

## <a name="Recording">Recording</a>

* `qa` will record your actions in the register **a**.
* `q` will stop recording.
* `N@a` will replay the macro saved into the register **a** *N* times as if you typed it.
* `@@` is a shortcut to replay the last executed macro.

## <a name="Splits">Splits</a>

* `:sp file` open a file in a new buffer and split window
* `:vsp file` open a file in a new buffer and vertically split window
* `:q` close the split like you would close vim
* `Ctrl-w-<dir>` navigate between splits

Resize split windows:

* `<Ctrl w>=` normalize all split sizes
* `<Ctrl w>+` grow split window
* `<Ctrl w>-` shrink split window
* `<Ctrl w>_` max out the height of the current split
* `<Ctrl w>|` max out the width of the current split

Open new split panes to right and bottom, which feels more natural than Vim’s default:

* `:set splitbelow`
* `:set splitright`

## <a name="Exiting">Exiting</a>

* `:q` quit (fails if there are unsaved changes)
* `:q!` quit and throw away unsaved changes
* `:w` write (save) the file, but don't exit
* `:wq` write (save) and quit

## <a name="Last-line mode">Last-line mode</a>

* `noh` no highlight
* `set nu` turn on line numbering
* `set nonu` turn off line numbering

References:

[<u>Vim Cheat Sheet</u>](https://vim.rtorr.com)
